FCKCommands.RegisterCommand("dfckeditor",new FCKDialogCommand("dfckeditor",FCKLang.FCKEditorDlgTitle,FCKPlugins.Items["dfckeditor"].Path+"fck_dfckeditor.html",380,210));var oSItem=new FCKToolbarButton("dfckeditor",FCKLang.FCKEditorBtn);oSItem.IconPath=FCKPlugins.Items["dfckeditor"].Path+"fckeditor.png";FCKToolbarItems.RegisterItem("dfckeditor",oSItem);FCK.ContextMenu.RegisterListener({AddItems:function(c,a,b){if(b=="TEXTAREA"&&a.getAttribute("isFCK")){c.RemoveAllItems();c.AddItem("Cut",FCKLang.Cut,7,FCKCommands.GetCommand("Cut").GetState()==FCK_TRISTATE_DISABLED);c.AddItem("Copy",FCKLang.Copy,8,FCKCommands.GetCommand("Copy").GetState()==FCK_TRISTATE_DISABLED);c.AddItem("Paste",FCKLang.Paste,9,FCKCommands.GetCommand("Paste").GetState()==FCK_TRISTATE_DISABLED);c.AddItem("dfckeditor",FCKLang.FCKEditorDlgTitle,FCKToolbarItems.GetItem("dfckeditor").IconPath);}}});