FCKCommands.RegisterCommand("ddateselect",new FCKDialogCommand("ddateselect",FCKLang.DateSelctorDlgTitle,FCKPlugins.Items["ddateselect"].Path+"fck_ddateselect.html",380,210));var oSItem=new FCKToolbarButton("ddateselect",FCKLang.DateSelectorBtn);oSItem.IconPath=FCKPlugins.Items["ddateselect"].Path+"date.png";FCKToolbarItems.RegisterItem("ddateselect",oSItem);FCK.ContextMenu.RegisterListener({AddItems:function(c,a,b){if(b=="INPUT"&&a.getAttribute("__cfckdate")){c.RemoveAllItems();c.AddItem("Cut",FCKLang.Cut,7,FCKCommands.GetCommand("Cut").GetState()==FCK_TRISTATE_DISABLED);c.AddItem("Copy",FCKLang.Copy,8,FCKCommands.GetCommand("Copy").GetState()==FCK_TRISTATE_DISABLED);c.AddItem("Paste",FCKLang.Paste,9,FCKCommands.GetCommand("Paste").GetState()==FCK_TRISTATE_DISABLED);c.AddItem("ddateselect",FCKLang.DateSelctorDlgTitle,FCKToolbarItems.GetItem("ddateselect").IconPath);}}});