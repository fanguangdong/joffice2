FileDetailShowWin=Ext.extend(Ext.Window,{formPanel:null,constructor:function(a){Ext.applyIf(this,a);this.initUI();FileDetailShowWin.superclass.constructor.call(this,{layout:"fit",height:300,title:this.fileName+"-属性",modal:true,width:600,items:this.formPanel,buttons:this.buttons,buttonAlign:"center"});},initUI:function(){this.formPanel=new Ext.FormPanel({layout:"form",padding:"10px",defaultType:"displayfield",items:[{xtype:"hidden",name:"fileId",value:this.fileId},{fieldLabel:"文件名",name:"fileName"},{fieldLabel:"文件路径",name:"filePath"},{fieldLabel:"文件类型",name:"fileType"},{xtype:"container",layout:"form",defaultType:"displayfield",hidden:!this.isFolder,defaults:{padding:"0",anchor:"100%,100%"},items:[{fieldLabel:"目录数",name:"folderNum"},{fieldLabel:"文档数",name:"documentNum"},{fieldLabel:"描述",name:"descp"}]},{xtype:"container",layout:"form",defaultType:"displayfield",hidden:this.isFolder,defaults:{padding:"0",anchor:"100%,100%"},items:[{fieldLabel:"作者",name:"author"},{fieldLabel:"关键字",name:"keywords"}]},{fieldLabel:"附件数",name:"attachsNum"},{fieldLabel:"文件大小",name:"docFileSize"}]});var a=this.formPanel;var c=this;var b="/知识目录";if(this.isPersonal){b="/我的文件夹";}else{if(this.isOnline){b="/在线文档目录";}}Ext.Ajax.request({url:__ctxPath+"/document/detailDocFolder.do",params:{isPersonal:this.isPersonal,fileId:this.fileId,isFolder:this.isFolder},success:function(d,h){var f=Ext.util.JSON.decode(d.responseText);a.getCmpByName("fileName").setValue(f.fileName);c.setTitle(f.fileName+"-属性");a.getCmpByName("fileType").setValue(f.fileType);a.getCmpByName("folderNum").setValue(f.folderNum);a.getCmpByName("documentNum").setValue(f.documentNum);a.getCmpByName("attachsNum").setValue(f.attachsNum);a.getCmpByName("docFileSize").setValue(f.docFileSize);if("/"==f.path){f.path="/";b="";}a.getCmpByName("filePath").setValue(b+f.path);var i="";if(f.descp!=null&&f.descp!="null"){i=f.descp;}a.getCmpByName("descp").setValue(i);var g="";if(f.author!=null&&f.author!="null"){g=f.author;}a.getCmpByName("author").setValue(g);var e="";if(f.keywords!=null&&f.keywords!="null"){e=f.keywords;}a.getCmpByName("keywords").setValue(e);},failure:function(d,e){}});this.buttons=[{xtype:"button",scope:this,text:"关闭",iconCls:"btn-cancel",handler:function(){this.close();}}];}});