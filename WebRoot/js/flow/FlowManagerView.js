var FlowManagerView=function(){return this.getView();};FlowManagerView.prototype.getView=function(){var d;var b=new ProDefinitionView(true);var c=new Ext.Panel({layout:"fit",region:"west",collapsible:true,split:true,width:200,title:"流程分类树",items:[new htsoft.ux.TreePanelEditor({id:"FlowProTypeTree",border:false,autoScroll:true,url:__ctxPath+"/system/flowTreeGlobalType.do?catKey=FLOW",onclick:function(f){b.setTypeId(f.id);var e=Ext.getCmp("ProDefinitionGrid");e.getStore().proxy.conn.url=__ctxPath+"/flow/listProDefinition.do?typeId="+f.id;e.getStore().load({params:{start:0,limit:25}});},contextMenuItems:[{text:"新建分类",scope:this,iconCls:"btn-add",handler:function(){var e=Ext.getCmp("FlowProTypeTree");var h=e.selectedNode.id;var f="FLOW";var g=new GlobalTypeForm({parentId:h,catKey:f,callback:function(){Ext.getCmp("FlowProTypeTree").root.reload();}});g.show();}},{text:"修改分类",scope:this,iconCls:"btn-edit",handler:function(){var f=Ext.getCmp("FlowProTypeTree");var e=f.selectedNode.id;var g=new GlobalTypeForm({proTypeId:e,callback:function(){Ext.getCmp("FlowProTypeTree").root.reload();}});g.show();}},{text:"设置权限",scope:this,iconCls:"btn-shared",handler:function(){var f=Ext.getCmp("FlowProTypeTree");var e=f.selectedNode.id;if(e!=0){new ProDefRightsForm({proTypeId:e}).show();}}}]})]});var a=new Ext.Panel({title:"流程管理",layout:"border",iconCls:"menu-flowManager",id:"FlowManagerView",height:800,items:[c,b.getView()]});return a;};