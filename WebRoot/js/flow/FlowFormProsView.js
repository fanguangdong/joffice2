FlowFormProsView=Ext.extend(Ext.Panel,{constructor:function(a){Ext.applyIf(this,a);this.initUIComponents();FlowFormProsView.superclass.constructor.call(this,{id:"FlowFormProsView",title:"流程表单查询",region:"center",layout:"border",items:[this.leftPanel,this.proPanel]});},typeId:0,initUIComponents:function(){this.leftPanel=new Ext.Panel({layout:"fit",region:"west",collapsible:true,split:true,width:200,title:"流程分类树",items:[new htsoft.ux.TreePanelEditor({border:false,autoScroll:true,url:__ctxPath+"/system/flowTreeGlobalType.do?catKey=FLOW",onclick:function(b){this.typeId=b.id;var a=Ext.getCmp("FlowFormProsView").QueryForms;a.store.proxy.conn.url=__ctxPath+"/flow/queryFormsFlowFormQuery.do?typeId="+b.id;a.store.load({params:{start:0,limit:25}});}})]});this.QueryForms=new FlowFormQueryForms({}).show();this.QueryForms.gridPanel.addListener("rowdblclick",this.QueryForms_rowClick,this);this.QueryForms.rowActions.on("action",this.QueryForms_onRowAction,this);this.proPanel=new Ext.Panel({title:"流程表单",layout:"border",region:"center",autoScroll:true,items:[this.QueryForms]});},showForms:function(b){var a=Ext.getCmp("centerTabPanel");a.remove(this.QueryView,true);this.QueryView=a.add(new FlowFormQueryView({defId:b.data.defId,name:b.data.name,description:b.data.description,deployId:b.data.deployId}));a.activate(this.QueryView);},activeEntity:function(b){var a=Ext.getCmp("centerTabPanel");a.remove(this.QueryEntity,true);this.QueryEntity=a.add(new FlowFormQueryEntity({tableKey:b.data.tableKey,tableId:b.data.tableId,title:b.data.tableName}));a.activate(this.QueryEntity);},QueryForms_rowClick:function(c,b,d){var a=c.getStore().getAt(b);this.activeEntity.call(this,a);},QueryForms_onRowAction:function(c,a,d,e,b){switch(d){case"btn-showDetail":this.activeEntity.call(this,a);break;default:break;}}});