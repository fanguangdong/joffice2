RelativeJobForm=Ext.extend(Ext.Window,{constructor:function(a){Ext.applyIf(this,a);this.initUIComponents();RelativeJobForm.superclass.constructor.call(this,{id:"RelativeJobFormWin",layout:"fit",iconCls:"menu-relativeJob",items:this.formPanel,modal:true,height:120,width:350,maximizable:true,title:"新增/编辑相对岗位信息",buttonAlign:"center",buttons:[{text:"保存",iconCls:"btn-save",scope:this,handler:this.save},{text:"取消",iconCls:"btn-cancel",scope:this,handler:this.cancel}]});},initUIComponents:function(){this.formPanel=new Ext.FormPanel({id:"RelativeJobForm",layout:"form",bodyStyle:"padding:10px",border:false,autoScroll:true,defaults:{anchor:"96%,96%"},keys:{key:Ext.EventObject.ENTER,fn:this.save,scope:this},defaultType:"textfield",reader:new Ext.data.JsonReader({root:"data"},[{name:"reJobId",mapping:"reJobId"},{name:"parent",mapping:"parent"},{name:"jobName",mapping:"jobName"}]),items:[{name:"relativeJob.reJobId",id:"reJobId",xtype:"hidden",value:this.reJobId==null?"":this.reJobId},{name:"relativeJob.parent",id:"parent",xtype:"hidden",value:this.nodeId==null?"2":this.nodeId},{fieldLabel:"岗位名称",name:"relativeJob.jobName",id:"jobName",allowBlank:false,blankText:"请输入岗位名称",maxLength:128}]});},cancel:function(){this.close();},save:function(){$postForm({formPanel:this.formPanel,scope:this,url:__ctxPath+"/system/saveRelativeJob.do",callback:function(a,b){Ext.getCmp("RelativeJobFormWin").close();Ext.getCmp("RelativeUserViewTreePanel").root.reload();}});}});