LeaveManageWin=Ext.extend(Ext.Window,{constructor:function(a){Ext.applyIf(this,a);this.initUIComponents();LeaveManageWin.superclass.constructor.call(this,{id:"LeaveManageWin",layout:"form",items:[this.displayPanel,this.formPanel],modal:true,width:540,height:360,iconCls:"menu-holiday",maximizable:true,title:"请假信息审核",buttonAlign:"center",buttons:[{text:"保存",iconCls:"btn-save",scope:this,handler:this.save},{text:"取消",iconCls:"btn-cancel",scope:this,handler:this.cancel}]});},initUIComponents:function(){this.displayPanel=new Ext.Panel({flex:1,autoHeight:true,autoWidth:true,border:false,autoLoad:{url:__ctxPath+"/pages/personal/errandsRegisterDetail.jsp?dateId="+this.dateId}});this.formPanel=new Ext.FormPanel({layout:"form",bodyStyle:"padding:10px",border:false,autoScroll:true,defaults:{anchor:"98%,96%"},items:[{name:"errandsRegister.dateId",id:"dateId",xtype:"hidden",value:this.dateId==null?"":this.dateId},{fieldLabel:"审批状态",xtype:"combo",hiddenName:"errandsRegister.status",editable:false,triggerAction:"all",store:[["1","通过审批"],["2","未通过审批"]],value:1},{xtype:"textarea",fieldLabel:"审批意见",name:"errandsRegister.approvalOption"}]});},save:function(){$postForm({formPanel:this.formPanel,scope:this,url:__ctxPath+"/personal/saveErrandsRegister.do",callback:function(a,c){var b=Ext.getCmp("LeaveManageGrid");if(b!=null){b.getStore().reload();}this.close();}});},cancel:function(){this.close();}});